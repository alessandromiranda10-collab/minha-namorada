UGGINGFACE_TOKEN = "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"
MODEL_CHAT = "gpt2"  # ou qualquer modelo Hugging Face de chat
MODEL_TTS = "facebook/tts_transformer-es-css10"  # exemplo de TTS em espanhol/inglês
AVATAR_URL = "https://i.imgur.com/4AiXzf8.png"  # link de avatar

# ================= FUNÇÃO CHAT =================
def ask_ai(prompt):
    headers = {"Authorization": f"Bearer {HUGGINGFACE_TOKEN}"}
    payload = {"inputs": prompt, "options": {"use_cache": False}}
    response = requests.post(
        f"https://api-inference.huggingface.co/models/{MODEL_CHAT}",
        headers=headers,
        json=payload
    )
    result = response.json()
    return result[0]['generated_text'].replace(prompt, "").strip()

# ================= FUNÇÃO TTS =================
def speak(text):
    headers = {"Authorization": f"Bearer {HUGGINGFACE_TOKEN}"}
    payload = {"inputs": text}
    response = requests.post(
        f"https://api-inference.huggingface.co/models/{MODEL_TTS}",
        headers=headers,
        json=payload
    )
    # Salva o áudio temporariamente e toca no browser
    with tempfile.NamedTemporaryFile(delete=False, suffix=".mp3") as f:
        f.write(response.content)
        webbrowser.open(f.name)

# ================= INTERAÇÃO =================
print(f"Avatar da sua namorada IA: {AVATAR_URL}\n")

while True:
    user_input = input("Você: ")
    ai_response = ask_ai(user_input)
    print(f"IA: {ai_response}")
    speak(ai_response)
